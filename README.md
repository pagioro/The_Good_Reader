# **The Good Reader**

![The Good Reader](/static/site_images/mockup.png)

[View the live project here](https://the-good-reader.herokuapp.com/)

## Contents
* **[Introduction](#Introduction)**
    * [Business Plan](#Business-Plan)
    * [Planning Stage](#Planning-Stage)
    * [Project Goals](#Project-Goals)
        * Epics
    * [User Stories](#User-Stories)
    * [Design Goals](#Design-Goals)
    * [Design Choices](#Design-Choices)
        * Font
        * Color Scheme
        * Logo The Good Reader
        * Images
    * [Wireframes](#Wireframes)

    * **[Features](#Features)**
    * [Existing Features](#Existing-Features)
    * [General Features](#General-Features)
    * [Future Features](#Future-Features)

* **[SEO Implementation](#SEO-Implementation)**
    * [Sitemap](#Sitemap)
    * [Robots.txt](#Robots.txt)

* **[Marketing Techniques](#Marketing-Techniques)**
    * [Target Audience](#Target-Audience)
    * [Social Media](#Social-Media)
        * [Facebook](#Facebook)
        * [Instagram](#Instagram)
    * [Newsletter](#Newsletter)

* **[Testing](#Testing)**

* **[Bugs](#Bugs)**
    * [Known Bugs](#Known-Bugs)

* **[Technology Used](#Technology-Used)**
    * [Main Languages Used](#Main-Languages-Used)
    * [Frameworks, Libraries and Programs Used](#Frameworks-Libraries-and_Programs-Used)
    

* **[Deployment](#Deployment)**
    * [Deploying on Heroku](#Deploying-on-Heroku)

* **[Credits](#Credits)** 
    * [Media](#Media)
    * [Code](#Code)
    * [Acknowledgements](#Acknowledgements)

    # **The Good Reader**

## **Introduction**

The Good Reader is a website where you can buy books and have them delivered to your home! The Good Reader offers all kinds of books. Users can create their own profiles so that their shipping and billing information is saved. As a customer you can also see your previous orders and update or delete your profile. Orders over 20$ have free delivery and users can easily see when they have reached the free shipping limit. Products can be added to the cart and can be purchased using card payment. Order confirmation is sent to the email address provided by the customer. Users can also stay updated with all the latest and exclusive offers by following The Good Reader's Facebook page and by subscribing to the monthly newsletter.

### **Business Plan**

E-commerce has been growing increasingly, and when the pandemic hit, the potential of this up-and-coming market became apparent.
During and after the incident, companies changed their strategies, making people work from home with more flexible hours, and a good part of their purchases was and are made over the internet.
The business model for The Good Reader store is B2C (Business to Consumer) which is selling directly to the end customer.
Customers can call or send an email for help with products they've already purchased.

[Back to content](#contents)

### **Planning Stage**

The initial step in this project was to create a general visual idea of how the page should look. I decided to make the most common resources on a bookstore website that were presented and placed in conventional places on the page; for example, the search bar should be at the top, always easy to find.
In the beginning, I also created wireframes for the website to get a better idea of what I intended. I also made all my user stories to ensure I applied all the functionality I wanted.

[Back to content](#contents)

### **Project Goals**

The app is designed as an e-commerce application that encourages users to make purchases. My goal for this project was to create a user-friendly site for people who want to buy books online by offering a neat place to navigate and make purchases. 

[Back to content](#contents)

**Epics**

The general goals created at the beginning of the project resulted in more specific user stories and are presented below with a related connection to each other:

- Personal account management has to be easily accessible for the site user.
User stories 9, 11, 12, 13, 14. 

- Guarantee of customer-friendly product searching and viewing available.
User stories 1, 2, 3, 6, 15, 16, 17. 

- Guarantee of the easily accessible available process for customer purchases.
User stories 4, 18, 19, 20, 21, 22, 23, 24, 25.

- Product management has to be easily accessible and available for the site administrator user.
User stories 26, 27. 

- Constant feedback to customers when interacting with the site.
User stories 5, 7, 8, 10.

### **User Stories**

*Agile methodology was used to create user stories.*
*GitHub’s Kanban feature was used to track the progress of user stories.*

**Viewing and Navigation**

- As a customer I can view a list of products so that I can select some purchases.
- As a customer I can view a specific product category so that I can find products I'm interested in without having to search through all products.
- As a customer I can view individual product details so that I can identify the author, category, price, description and image.
- As a customer I can view the total of my purchases so that I can define my investment at any time.
- As a customer I can view the about option so that I can view the description, email and phone number of the about option.
- As a customer I can view the author's option so that I can view the photo, name, country, known for and description of the author's option.
- As a customer I can view the Contact Us option so that I can view the options to fill out my name, email, title and description to submit them of the Contact Us option.
- As a customer I can view individual product details so that I can make a comment and fill out my name, comment and email.

**Registration and User Accounts**

- As a customer I can easily register for an account so that I can have a personal account and view my profile.
- As a customer I can subscribe to receive a newsletter so that I can fill out my email address and subscribe.
- As a site user, I can log in or out to access my personal account information.
- As a site user I can recover my password to regain access to my account if I forget it.
- As a site user I can receive an email confirmation after registering to confirm my account registration was successful.
- As a site user I can have a personalized user profile to view my order history and save my default delivery information.

**Sorting and Searching**

- As a customer I can sort the list of available products so that I can identify sort by name, author, best and high price.
- As a customer I can search for a product by title, author or keyword so that I can find a specific product I want to purchase. 
- As a customer I can see what I have searched for and the number of results so that I can decide whether the product I want is available.

**Purchasing and Check out**

- As a customer I can select a product when purchasing it so that I can ensure I choose the right product and quantity.
- As a customer I can add a product to my bag so that I can store into my bag items before I define the total order.
- As a customer I can view items in my bag to be purchased so that I can identify the total value of my purchase and all items I will receive.
- As a customer I can easily adjust the number of individual items in my bag so that I can make changes to my purchase before checkout.
- As a site user I can choose default delivery information so that I can check out my purchase.
- As a site user I can fill out my default delivery information so that I can save this information to my default delivery information.
- s a customer I can view an order confirmation after checkout so that I can verify that my order is correct.
- As a customer I can receive an email confirmation after checkout to keep my purchase warranty.

**Admin and Store Management**

- As a site administrator user I can create, view, update and delete products so that I can add new items, change prices, descriptions, and images, and remove items that are no longer for sale.
- As a site administrator user I can have disposable the product management option so that I can create new products.

[Back to content](#contents)

### **Design Goals**

On the presentation page of the site was included a photo of a boy reading a book to draw attention, the buttons just above with all the functionalities and easy to understand. 
Was added a white background on the pages where the books are showing to make them stand out.
It was also important that the site looked and worked well on all devices, regardless of screen size.

### **Design Choices**

* Font

To stay in line with the goal of presenting a clean and sophisticated website, I chose an elegant font called Roboto for easy reading.

![Google Font](/static/site_images/font.png)

* Color Scheme

To keep the site visually appealing, I gave the header and footer a lighter background with a beige and green tint, and I gave the logo a black colour. In addition to these colours, I chose to keep the background white and the text black on some pages.

- Blue: #19beda
- Green: #70c8b5
- Gray: #D6E4E5
- Dark blue: #00205b
- Light beige: #F8EDE3
- White: #fff
- Black: #000

![Color Scheme](/static/site_images/color.png)

* Logo The Good Reader

The Good Reader logo was created using Photoshop.

![First Logo](/static/site_images/logo1.png)

![Second Logo](/static/site_images/logo2.png)

* Images

All images on the site are taken from [Pexels.com](https://www.pexels.com/). Pexels provides high quality and completely free stock photos licensed under the Pexels license. 

[Back to content](#contents)

## **Wireframes**

Site moc-ups were designed using [Balsamiq Wireframes](https://balsamiq.com/). Since the site is built to be fully responsive one of the design goals was that the user should recognize the different pages and sections of the page no matter what size they were using. 

**Front Page**

![Home Page and Mob Home Page](/static/site_images/home.png)

The front page is designed to give the user an instant understanding of the page's purpose. 

**About Page**

![About Page and Mob About Page](/static/site_images/about.png)

The about page is strictly for informational purposes. 

**Authors Page**

![Authors Page and Mob Authors Page](/static/site_images/authors.png)

The author's page displays some renowned authors with a few of their life stories. 

**Products Page**

![Products Page and Mob Products Page](/static/site_images/products.png)

When clicking on Products, either from the dropdown menu in the navigation bar or from the Shop Here link in the middle of the home page, you reach the items being sold now. Here you get an overview of the products, an image, name and price. 

**Contact Page**

![Contact Page and Mob Contact Page](/static/site_images/contact.png)

Form to contact the store

**Bug Report Form**

![Bug Report Form Page and Bug Report Form Contact Page](/static/site_images/bugreport.png)

A form that the user can contact the store if he finds a problem on the site.

**Product Detail**

![Products Detail Page and Mob Products Detail Page](/static/site_images/products-detail.png)

When viewing all products, the user can easily access the complete information regarding a specific product by clicking on the image or the product name. This redirects the user to the product detail page, where the user can see all information. From here, the user can return to the products page or add the item to the bag. The user will also be able to comment on the product.

**Sign Up**

![Sign up Page and Mob Sign up Page](/static/site_images/signup.png)

This is a simple and easy page for users to sign up for an account to shop more quickly and keep track of their previous purchases. 

**Sign In**

![Sign in Page and Mob Sign in Page](/static/site_images/signin.png)

From here, users who already have an account can sign in to access their profile page. 

**Sign Out**

![Sign out Page and Mob Sign out Page](/static/site_images/signout.png)

When signed-in users are done on the page, they can sign out from their user account. 

**Profile**

![Profile Page and Mob Profile Page](/static/site_images/profile.png)

Logged-in users can go to their profile page. Here they can view, update and delete information. On this page, the user also gets an overview of previous purchases and can view those in detail. 

**Shopping Bag**

![Shopping Bag Page and Mob Shopping Bag Page](/static/site_images/shopbag.png)

Logging-in users can easily access their shopping bags by clicking on the bag icon in the navigation bar. From here, they can see the content in the bag and product information of their selected items. From here, they can also update and/or delete items as well as proceed to checkout or keep shopping. 

**Checkout**

![checkout Page and Mob checkout Page](/static/site_images/checkout.png)

When customers finish shopping, they can click the checkout to complete their purchases. From this view, they can see their prefilled information, add new information or update if they wish. The customer is asked to provide billing details such as credit card information to complete the purchase. 

[Back to content](#contents)

## **Information Architecture**

### **Database Models**

*Author*
| Key:       | Name:       | Type:        |
|------------|-------------|--------------|
|            | name        | CharField    |
|            | country     | CharField    |
|            | bio         | CharField    |
|            | known_for   | CharField    |
|            | image_url   | CharField    |
|            | image_url   | URLField     |
|            | image       | ImageField   |

*Order*
| Key:       | Name:           | Type:         |
|------------|-----------------|---------------|
|            | order_number    | CharField     |
| ForeignKey | user_profile    | User Model    |
|            | full_name       | CharField     |
|            | email           | EmailField    |
|            | phone_number    | CharField     |
|            | country         | CountryField  |
|            | postcode        | CharField     |
|            | town_or_city    | CharField     |
|            | street_address1 | CharField     |
|            | street_address2 | CharField     |
|            | county          | CharField     |
|            | date            | DateTimeField |
|            | delivery_cost   | DecimalField  |
|            | order_total     | DecimalField  |
|            | grand_total     | DecimalField  |
|            | original_bag    | TextField     |
|            | stripe_pid      | CharField     |

*OrderLineItem*
| Key:       | Name:           | Type:         |
|------------|-----------------|---------------|
| ForeignKey | order           | User Model    |
| ForeignKey | product         | User Model    |
|            | quantity        | IntegerField  |
|            | lineitem_total  | DecimalField  |

*Contact*
| Key:       | Name:           | Type:         |
|------------|-----------------|---------------|
|            | name            | CharField     |
|            | email           | EmailField    |
|            | title           | CharField     |
|            | description     | CharField     |

*Product*
| Key:       | Name:           | Type:         |
|------------|-----------------|---------------|
| ForeignKey | category        | User Model    |
|            | sku             | CharField     |
|            | name            | CharField     |
|            | author          | CharField     |
|            | description     | TextField     |
|            | price           | DecimalField  |
|            | image_url       | URLField      |
|            | image           | ImageField    |

*Category*
| Key:       | Name:           | Type:         |
|------------|-----------------|---------------|
|            | name            | CharField     |
|            | friendly_name   | CharField     |

*UserProfile*
| Key:       | Name:                   | Type:         |
|------------|-------------------------|---------------|
|            | user                    | OneToOneField |
|            | default_phone_number    | CharField     |
|            | default_street_address1 | CharField     |
|            | default_street_address2 | CharField     |
|            | default_town_or_city    | CharField     |
|            | default_county          | CharField     |
|            | default_postcode        | CharField     |
|            | default_country         | CountryField  |

*Bug Report Form*
| Key:       | Name:           | Type:         |
|------------|-----------------|---------------|
|            | title           | CharField     |
|            | description     | CharField     |
|            | browser         | CharField     |
|            | os              | CharField     |
|            | email           | EmailField    |

[Back to content](#contents)

## **Features**

### **Existing Features**

### Header

#### Navigation menu

![Navbar Desktop](/static/site_images/navbar-1.png) ![Navbar Mobile](/static/site_images/navbar-2.png) 

##### Desktop:
The navigation bar on desktop screens is on the left side for easy viewing, and the clickable logo is just above. My account is shown on the side, which, when clicked, the person will be able to register on the site or login, and next to the shopping cart.
##### Mobile:
In the mobile version, the menu is located in the left corner and in the shape of a hamburger that, when clicked, will show all the menu items, including the search bar. My account, shopping cart buttons, and logo are above in the centre.

#### Footer

![Footer Desktop](/static/site_images/footer-1.png) ![Footer Mobile](/static/site_images/footer-2.png)

In the footer, it is possible to subscribe to the website's newsletter, which was linked with Mail Chimp for capturing leads. It also has a link to the Facebook, Instagram and LinkedIn pages and buttons that lead to the privacy policy and contact pages. The same thing happened for the mobile version, but it was reduced and resized.

#### Front Page

![Front Page](/static/site_images/frontpage.png)

An image showing a boy reading a book. The image has a brief description of the page and a link to access the products directly. The homepage is intended to be explanatory.

#### About Page

![About Page](/static/site_images/about-page.png)

Users can get more information about The Good Reader on the About page. There is also contact information so the user can quickly contact us. 

#### All Products

![Products Page](/static/site_images/books-page.png)

Clicking on the link for All Products in the nav bar or the "Shop Now" link on the Home page will take you to the product view. Here you get an overview of all products, their image, name and price. On this site, you can view a specific category by clicking one of the category buttons at the top. You can also sort the products by price, ascending and descending, name or author. 

#### Product Detail

![Product Detail](/static/site_images/product-detail.png)

You are directed to the product detail view when clicking on a product image or its name. You get all the book information from here and can add it to your shopping bag. If the user is a superuser, there are options to edit and/or delete the products directly from here. There is also a button redirecting you to the All Products page.

#### Manage Product

![Manage Product](/static/site_images/manage-product.png)

As a superuser, you can easily navigate to manage specific products by clicking the Edit or Delete button. Clicking the Delete button removes the item, whilst clicking Edit takes you to the above page. Here the superuser can update all details regarding the product.

#### User Profile

![User Profile](/static/site_images/userprofile.png) 

Choosing My Profile under the My Account link takes the user to their Profile. From here, the user can update or delete all information and get an overview of previous purchases. If the order number is clicked, the user will be redirected to the specifications of that particular purchase. This action requires that the user is logged in. If they do, they will be asked to log in or register.

#### Sign Up / In / Log Out

![Sign Up/In/Out](/static/site_images/signup-in-out-page.png)

These pages are very straightforward, and intentionally the layout is kept simple since the user is not supposed to linger here. The user can easily access the different options Sign Up, Sign In or Log Out from the nav bar. Other options depend on the user's status; only logged-in users can log out, and vice versa. From here, users can also ask to reset their password in case they forget it. 

#### Shopping bag

![Shopping Bag](/static/site_images/shoppingbag.png)

Users are taken to the Shopping Bag view when they click on the shopping bag icon in the nav bar. The Shopping Bag displays the items currently in the bag and an easy option to update the quantity or delete them. If no items are in the shopping bag, a message stating so is displayed along with a button directing back to the product's site. You can also see the price for each item, the total price and whether or not you have reached the free shipping limit ($20). From the Shopping Bag view, you can either go back to the Products view or proceed to the secure Checkout.

#### Checkout Page

![Checkout Page](/static/site_images/checkout-1.png) 

When the user finishes shopping, they can go to the Checkout Page. From here, they get to either fill in their shipping and billing information or complete the missing parts if they have information saved since before. Besides basic information like address, the user can also add additional shipping information.

#### Order Confirmation

![Order Confirmation](/static/site_images/order-confirmation.png)

After the user has completed the purchase, the user will be directed to the Order Confirmation page. From here, the user gets a complete purchase overview, shipping and billing information, and additional information.

#### Newsletter Subscription

![Newsletter Subscription](/static/site_images/subscribe.png)

Any site user can quickly sign up for a Newsletter subscription to participate in news, offers etc. By entering their email, they will receive newsletters. This service is handled by the [MailChimp Service](https://mailchimp.com).

[Back to content](#contents)

### **General Features**

* Alert Message

![Alert Message](/static/site_images/alert.png)

An alert is displayed whenever the user interacts with the page, ie logs in, adds a product to the shopping bag, updates their user profile etc. It is a general feature that applies all over the page. 

[Back to content](#contents)

### **Future Features**

* A future version of The Good Reader would add the wishlist button and a specific page with the user's desired products.
* Other book-related products can be added to the product list.
* Another feature the website owner can easily manage is the special offers or gifts for the customers on their birthdays. Include the option to add your date of birth to your profile, allowing the site owner to use this information.

[Back to content](#contents)

## **SEO Implementation**

I used the following words as Meta keywords to optimize SEO:

- online bookstore
- books
- conservatism
- healthy
- fitness
- biography
- sports
- author
- Roger Scruton
- Matthew Continetti
- Stephen King
- Dr. Charles B. Corbin
- Hermione Lee

*Meta Description Tag:*

- "online bookstore where you can find all kinds of books"

All images displayed on the page have descriptive alternative text for better search engine optimzation. 

[Back to content](#contents)

### **Sitemap**

The site has been equipped with a [Sitemap.xml](/sitemap.xml).

[Back to content](#contents)

### **Robots.txt**

The site has been equipped with a [Robots.txt file](/robots.txt). 

[Back to content](#contents)

## **Marketing Techniques**

### **Target Audience**

Defining the target audience for books goes far beyond focusing on those people whom the author thought of when writing the work — if he even imagined such a specific group.
The theme is undoubtedly one of the significant factors in defining the target audience. What does the book talk about? Culinary recipes? Alien stories? Biography of a rock star? From this answer, it is possible to take reasonable steps towards the potential readers of the publication.
Of course, even with the definition of an audience, there will always be readers outside that niche who will seek the book. For example, work with an adventure story and more straightforward language may be aimed at young male readers. Still, nothing prevents a 40-year-old woman from becoming interested in the content and consuming the product.
In other words, you need to focus on most of the target audience in your publicity and sales strategy while remembering the others who may be interested.
Consumer habits and trends vary significantly according to each generation. While older readers are still attached to paper publications, younger readers may have a taste for digital books.
Again, you need to have the sensitivity to see if what you consider the target audience “talks” with what is covered in the publication and how the work will be made available.

### Social Media

#### Facebook

[The Good Reader Facebook Page](https://www.facebook.com/profile.php?id=100089263505322)
*Since Facebook regularly deletes mock-up pages I can not guarantee that the page will still be there, hence I have taken screen shots of the created page.

![Facebook 1](/static/site_images/fb-1.jpg)
![Facebook 2](/static/site_images/fb-2.jpg)
![Facebook 3](/static/site_images/fb-3.jpg)

### Contact Form

The Good Reader website has a contact form, meaning the website owner can send emails about special offers, upcoming campaigns, information, etc.

[Back to content](#contents)

## **Testing**

Testing was done manually throughout the development process. The full rundown of the testing can be found in a separate [testing.md file](/TESTING.md). 

[Back to content](#contents)

## **Bugs**


fazer depois


### Known Bugs

fazer depois

[Back to content](#contents)

## **Technology Used**

### **Main Languages Used**

- HTML5
- CSS3
- JavaScript
- jQuery
- Python
- Django

[Back to content](#contents)

### **Frameworks, Libraries and Programs Used**

- [Bootstrap](https://getbootstrap.com/docs/5.0/getting-started/introduction/ "Link to Bootstrap page")
     - Bootstrap was used to implement the responsiveness of the site, using bootstrap classes, but also other styling such as buttons etc.
- [AWS Storage](https://aws.amazon.com/ "Link to AWS")
     - AWS Bucket Storage was used to store static and media files. 
- [Crispy Forms](https://django-crispy-forms.readthedocs.io/en/latest/ "Link to the Crispy Forms documentation")
    - Crispy Forms was used for the forms. 
- [Google Fonts](https://fonts.google.com/ "Link to Google Fonts")
    - Google fonts were used to import the fonts "Playfair Display" and "Lato" into the style.css file. These fonts were used throughout the project.
- [Font Awesome](https://fontawesome.com/ "Link to FontAwesome")
     - Font Awesome was used on all pages throughout the website to import icons (e.g. social media icons) for UX purposes.
- [Git](https://git-scm.com/ "Link to Git homepage")
     - Git was used for version control by utilizing the GitPod terminal to commit to Git and push to GitHub.
- [GitHub](https://github.com/ "Link to GitHub")
     - GitHub was used to store the project after pushing
- [Am I Responsive?](http://ami.responsivedesign.is/# "Link to Am I Responsive Homepage")
     - Am I Responsive was used to see responsive design throughout the process and to generate mockup imagery to be used.
- [Balsamiq Wireframes](https://balsamiq.com/learn/articles/what-are-wireframes/ "Link to Balsamiq Wireframes")
     - Balsamiq Wireframes was used to create the wireframes for the project.  
- [tinypng.com](https://tinypng.com/ "Link to tinypng")
     - Tinypng was used to compress images.

[Back to content](#contents)

## **Deployment**

### Deployment to heroku

**In your app** 

1. Add the list of requirements by writing in the terminal "pip3 freeze --local > requirements.txt"
2. Git add and git commit the changes made

**Log into heroku**

3. Log into [Heroku](https://dashboard.heroku.com/apps) or create a new account and log in

4. Top right-hand corner click "New" and choose the option Create new app, if you are a new user, the "Create new app" button will appear in the middle of the screen

5. Write app name - it has to be unique, it cannot be the same as this app
6. Choose Region - I am in Europe
7. Click "Create App"

**The page of your project opens.**

8. Go to Resources Tab, Add-ons, search and add Heroku Postgres

9. Choose "settings" from the menu on the top of the page

10. Go to section "Config Vars" and click button "Reveal Config Vars". 

11. Add the below variables to the list

    * Database URL will be added automaticaly
    * Secret_key - is the django secret key and it can be generated [here](https://miniwebtool.com/django-secret-key-generator/). 

**Go back to your code**

12. Procfile needs to be created in your app
```
web: gunicorn the_good_reader.wsgi:application
```
13. In settings in your app add Heroku to ALLOWED_HOSTS

14. Add and commit the changes in your code and push to github

**Final step - deployment**

13. In settings in your app add Heroku to ALLOWED_HOSTS

14. Add and commit the changes in your code and push to github

**Final step - deployment**

15. Next go to "Deploy" in the menu bar on the top 

16. Go to section "deployment method", choose "GitHub"

17. New section will appear "Connect to GitHub" - Search for the repository to connect to

18. Type the name of your repository and click "search"

19. Once Heroku finds your repository - click "connect"

20. Scroll down to the section "Automatic Deploys"

21. Click "Enable automatic deploys" or choose "Deploy branch" and manually deploy

22. Click "Deploy branch"

Once the program runs you should see the message: "The app was sussesfully deployed"

23. Click the button "View"

The live link can be found [here](https://the-good-reader.herokuapp.com/).

### Forking the GitHub Repository

By forking the GitHub Repository you will be able to make a copy of the original repository on your own GitHub account allowing you to view and/or make changes without affecting the original repository by using the following steps:

1. Log in to GitHub and locate the [GitHub Repository](https://github.com/pagioro/The_Good_Reader)
2. At the top of the Repository (not top of page) just above the "Settings" button on the menu, locate the "Fork" button.
3. You should now have a copy of the original repository in your GitHub account.

### Making a Local Clone

1. Log in to GitHub and locate the [GitHub Repository](https://github.com/pagioro/The_Good_Reader)
2. Under the repository name, click "Clone or download".
3. To clone the repository using HTTPS, under "Clone with HTTPS", copy the link.
4. Open commandline interface on your computer
5. Change the current working directory to the location where you want the cloned directory to be made.
6. Type `git clone`, and then paste the URL you copied in Step 3.

```
$ git clone https://github.com/pagioro/The_Good_Reader
```
7. Press Enter. Your local clone will be created.

### Setting up your local enviroment

2. Create env.py file. It needs to contain those 5 variables.

* STRIPE_PUBLIC_KEY
* STRIPE_SECRET_KEY
* DATABASE_URL can be obtained from [heroku](https://dashboard.heroku.com/), add PostgreSQL as an add on when creating an app. 
* SECRET_KEY - is the django secret key can be generated [here](https://miniwebtool.com/django-secret-key-generator/).

PostgreSQL and AWS keys are needed only on Heroku, not in local IDE

3. Run command 
```
pip3 install -r requirements.txt
```

### Getting Stripe keys
Go to developers tab. On side menu you will find API keys. Copy STRIPE_PUBLIC_KEY and STRIPE_SECRET_KEY.

Go to Webhooks. Click Add Endpoint button in top right hand corner.
Add endpoint URL (your local or deployed URL)
Add all events 
Then click add endpoint
You should be redirected to this webhooks page. Reveal webhook sign in secret key and copy to Settings and to heroku as STRIPE_WH_SECRET variable

### Getting email variables from gmail

- Log into gmail account
- Go to Settings and than See all settings
- Top menu go to Accounts and import
- Find on the list Other google account settings
- Left side menu - Security
- Turn on two step verification: add phone number and follow instructions
- Go back to security
App passwords - Select Mail, Select Device - Other, Django, Copy app password.

In Heroku 
EMAIL_HOST_PASS is the password copied from above.
EMAIL_HOST_USER is the gmail email address

### Setting AWS bucket

1. Go to [Amazon Web Services](https://aws.amazon.com/) page and login or register

2. You should be redirected to AWS Management Console, if not click onto AWS logo in top left corner or click Services icon and choose Console Home

3. Below the header AWS Services click into All Services and find **S3** under Storage

4. Create New Bucket using **Create Bucket** button in top right hand corner

- **Configuration:** Type in your chosen name for the bucket (preferably matching your heroku app name, but it should not be identical) and AWS Region closest to you

- **Object ownership:** ACLs enabled, Bucket owner preferred

- **Block Public Access settings:** Uncheck to allow public access, Acknowledge that the current settings will result that the objects within the bucket will become public

- Click **Create Bucket**

5. You are redirected to Amazon S3 with list of your buckets. Click into the name of the bucket you just created

6. Find the tab **Properties** on the top of the page:
**Static website hosting** at the bottom of the properties page: clik to edit, click enable, fill in index document: index.html and error.html for error

7. On the **Permissions** tab:
- Cross-origin resource sharing (**CORS**) Paste in the below code as configuration and save

![CORS](/static/site_images/cors.png)

- **Bucket Policy** within permissions tab: Edit bucket policy
Click AWS Policy Generator (top right conrner)

Select type of policy: S3 Bucket policy
Principal: * (allows all)
Actions: Get object
Amazon Resource Name (ARN): Paste from the Edit bucket policy page in permissions
Click Add statement then click Generate Policy and copy the policy into bucket policy editor. 
In the policy code find "Resource" key and add "/*" after the name of the bucket to enable all
Save changes

- **Access control list (ACL)** within permissions tab: click Edit

Find Everyone (public access) and check List box and save

8. Identity and Access Management (IAM)
Go back to the AWS Management Console and find IAM in AWS Services

- Side menu - User Groups and click **Create Group**
Name group "manage-your-app-name" and click Create group

- Side menu - Policies and click **Create Policy**
Click import managed policy - find AmazonS3FullAccess
Copy ARN again and paste into "Resource" add list containing two elements "[ "arn::..", ""arn::../*]" First element is for bucket itself, second element is for all files and folders in the bucket

- Side menu - User Groups and click **Create Group**
Name group "manage-your-app-name" and click Create group

- Side menu - Policies and click **Create Policy**
Click import managed policy - find AmazonS3FullAccess
Copy ARN again and paste into "Resource" add list containing two elements "[ "arn::..", ""arn::../*]" First element is for bucket itself, second element is for all files and folders in the bucket

Click bottom right Add Tags, than Click bottom right Next: Review
Add name of the policy and description

Click bottom right Create policy

9. Attach policy to the group we created:
- Go to User Groups on side menu
- Select your group from the list
- Go to permissions tab and add permissions drop down and choose **Attach policies**
- Find the policy created above and click button in bottom right Add permissions

10. Create User to go in the group
- **Users** in the side menu and click add users

User name: your-app-staticfiles-user
Check option: Access key - Programmatic access
Click button at the bottom right for Next
- Add user group and add user to the group you created earlier
Click Next Tags and Next: review and Create user
- Download .csv file

11. Connect django to AWS S3 bucket
- Install boto3
- Install django-storages
- Freeze to requirements.txt
- Add storages to installed apps in settings.py

### Bucket Config
    AWS_STORAGE_BUCKET_NAME = os.getenv('AWS_STORAGE_BUCKET_NAME')
    AWS_S3_REGION_NAME = 'eu-north-1'
    AWS_ACCESS_KEY_ID = os.getenv('AWS_ACCESS_KEY_ID')
    AWS_SECRET_ACCESS_KEY = os.getenv('AWS_SECRET_ACCESS_KEY')
    AWS_S3_CUSTOM_DOMAIN = f'{AWS_STORAGE_BUCKET_NAME}.s3.amazonaws.com'

12. Go to heroku to set up enviromental variables

Open CSV file downloaded earlier and copy each variable into heroku Settings

    AWS_STORAGE_BUCKET_NAME
    AWS_ACCESS_KEY_ID from csv
    AWS_SECRET_ACCESS_KEY from csv
    USE_AWS = True
    remove DISABLE_COLLECTSTATIC variable from heroku

13. Create file in root directory custom_storages.py

from django.conf import settings
from storages.backends.s3boto3 import S3Boto3Storage

class StaticStorage(S3Boto3Storage):
    location = settings.STATICFILES_LOCATION

class MediaStorage(S3Boto3Storage):
    location = settings.MEDIAFILES_LOCATION

14. Go to settings.py, add the AWS settings

### Static and media files
    STATICFILES_STORAGE = 'custom_storages.StaticStorage'
    STATICFILES_LOCATION = 'static'
    DEFAULT_FILE_STORAGE = 'custom_storages.MediaStorage'
    MEDIAFILES_LOCATION = 'media'

### Override static and media URLs in production
    STATIC_URL = f'https://{AWS_S3_CUSTOM_DOMAIN}/{STATICFILES_LOCATION}/'
    MEDIA_URL = f'https://{AWS_S3_CUSTOM_DOMAIN}/{MEDIAFILES_LOCATION}/'

    15. To load the media files to S3 bucket

- Go to your S3 bucket page on AWS. Create new folder "media"
- Go to the media folder and click Upload

[Back to content](#contents)

## **Credits**

### **Media**

* All images on the site are taken from [Pexels](https://www.pexels.com/). 

[Back to content](#contents)

### **Code**

References used and Inspiration:

* [Bootstrap](https://getbootstrap.com/)
* [Django Docs](https://docs.djangoproject.com/en/4.0/)
* [Stack Overflow](https://stackoverflow.com/)
* [W3 Schools](https://www.w3schools.com/)
* [Crispy Forms Docs](https://django-crispy-forms.readthedocs.io/en/latest/)
* [Project Boutique Ado from Code Institute](https://learn.codeinstitute.net/courses/course-v1:CodeInstitute+EA101+2021_T1/courseware/eb05f06e62c64ac89823cc956fcd8191/3adff2bf4a78469db72c5330b1afa836/)

### **Acknowledgements**

fazer depois

[Back to content](#contents)
